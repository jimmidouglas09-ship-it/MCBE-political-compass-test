<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCBE Speedrunning Compass</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;

        const MCBESpeedrunCompass = () => {
          const [currentQuestion, setCurrentQuestion] = useState(0);
          const [answers, setAnswers] = useState([]);
          const [showResults, setShowResults] = useState(false);

          const questions = [
            {
              id: 1,
              text: "When searching for the stronghold, do you prefer...",
              options: [
                { text: "Eye spy method (throw eyes, follow)", x: -2, y: 1 },
                { text: "Triangulation with F3", x: 2, y: -1 },
                { text: "Pie ray (calculated angle method)", x: 1, y: -2 },
                { text: "Divine method (calculated coordinates)", x: 2, y: 0 }
              ],
              effect: "Measures traditional vs mathematical/modern approaches"
            },
            {
              id: 2,
              text: "Your opinion on one-cycling the dragon?",
              options: [
                { text: "Always go for it, YOLO", x: 0, y: -2 },
                { text: "Only if I have enough beds", x: 0, y: 1 },
                { text: "I prefer the classic multiple-cycle strategy", x: -2, y: 2 },
                { text: "I calculate exact bed placement patterns", x: 2, y: 0 }
              ],
              effect: "Measures risk tolerance and innovation"
            },
            {
              id: 3,
              text: "How do you feel about bastion routing?",
              options: [
                { text: "Essential for competitive times", x: 1, y: -1 },
                { text: "Too risky, I skip bastions", x: -1, y: 2 },
                { text: "Only if RNG is good", x: 0, y: 0 },
                { text: "I use calculated routes with backup plans", x: 2, y: 1 }
              ],
              effect: "Measures structure interaction philosophy"
            },
            {
              id: 4,
              text: "Preferred nether travel method?",
              options: [
                { text: "Boat on lava with strider", x: -1, y: 1 },
                { text: "Build bridges carefully", x: -2, y: 2 },
                { text: "Bed/respawn anchor travel", x: 1, y: -1 },
                { text: "Optimal pathing with calculated risks", x: 2, y: 0 }
              ],
              effect: "Measures movement philosophy"
            },
            {
              id: 5,
              text: "How do you obtain blaze rods?",
              options: [
                { text: "Farm spawner safely from distance", x: -1, y: 2 },
                { text: "Aggressive melee with shield", x: 0, y: -1 },
                { text: "Use fortress layout knowledge for efficiency", x: 2, y: 0 },
                { text: "No shield, just dodge and hit", x: 0, y: -2 }
              ],
              effect: "Measures combat approach"
            },
            {
              id: 6,
              text: "Your stance on pre-1.16 strategies?",
              options: [
                { text: "Classic methods are still valid", x: -2, y: 1 },
                { text: "Outdated, always use modern tech", x: 2, y: -1 },
                { text: "Mix old and new as needed", x: 0, y: 0 },
                { text: "I study history but run current meta", x: 1, y: 1 }
              ],
              effect: "Measures traditional vs progressive mindset"
            },
            {
              id: 7,
              text: "How do you handle poor early game RNG?",
              options: [
                { text: "Reset immediately", x: 1, y: -2 },
                { text: "Adapt and continue", x: 0, y: 1 },
                { text: "Follow my practiced route regardless", x: -1, y: 1 },
                { text: "Calculate if run is mathematically viable", x: 2, y: 0 }
              ],
              effect: "Measures reset philosophy"
            },
            {
              id: 8,
              text: "Your approach to practicing?",
              options: [
                { text: "Full runs only, real experience", x: -2, y: 0 },
                { text: "Segment practice for weak areas", x: 1, y: 1 },
                { text: "Theory craft and simulation", x: 2, y: 0 },
                { text: "Push boundaries with risky strats", x: 0, y: -2 }
              ],
              effect: "Measures training philosophy"
            },
            {
              id: 9,
              text: "Portal positioning strategy?",
              options: [
                { text: "Overworld portal linking calculations", x: 2, y: 0 },
                { text: "Random portal, go with the flow", x: -2, y: -1 },
                { text: "Strategic but flexible placement", x: 0, y: 0 },
                { text: "Min-max every coordinate", x: 2, y: 1 }
              ],
              effect: "Measures planning vs improvisation"
            },
            {
              id: 10,
              text: "What defines a 'good run' for you?",
              options: [
                { text: "Personal best time", x: 0, y: -1 },
                { text: "Clean execution, no major mistakes", x: -1, y: 2 },
                { text: "Successfully pulling off risky strats", x: 0, y: -2 },
                { text: "Optimal routing and decision making", x: 2, y: 1 }
              ],
              effect: "Measures success criteria"
            }
          ];

          const handleAnswer = (option) => {
            const newAnswers = [...answers, option];
            setAnswers(newAnswers);
            
            if (currentQuestion < questions.length - 1) {
              setCurrentQuestion(currentQuestion + 1);
            } else {
              setShowResults(true);
            }
          };

          const calculatePosition = () => {
            const totalX = answers.reduce((sum, ans) => sum + ans.x, 0);
            const totalY = answers.reduce((sum, ans) => sum + ans.y, 0);
            
            const x = (totalX / answers.length) * 50;
            const y = (totalY / answers.length) * 50;
            
            return { x, y };
          };

          const getLabel = (x, y) => {
            let xLabel = "";
            let yLabel = "";
            
            if (x < -30) xLabel = "Traditional";
            else if (x > 30) xLabel = "Modern";
            else xLabel = "Balanced";
            
            if (y < -30) yLabel = "Progressive/Risky";
            else if (y > 30) yLabel = "Conservative/Safe";
            else yLabel = "Adaptive";
            
            return `${yLabel} ${xLabel}`;
          };

          const getDescription = (x, y) => {
            if (x < -30 && y > 30) return "You're a Classic Fortress Runner - preferring tried-and-true methods with careful, safe execution.";
            if (x > 30 && y > 30) return "You're a Calculated Optimizer - using modern techniques but maintaining safety through planning.";
            if (x < -30 && y < -30) return "You're an Old School Risk-Taker - combining traditional methods with aggressive, risky plays.";
            if (x > 30 && y < -30) return "You're a Cutting Edge Pioneer - pushing boundaries with modern tech and high-risk strategies.";
            if (Math.abs(x) < 30 && y > 30) return "You're a Consistent Grinder - focused on safe, repeatable strategies regardless of meta.";
            if (Math.abs(x) < 30 && y < -30) return "You're a Wild Card Runner - willing to take major risks while staying flexible on methods.";
            return "You're a True Balanced Runner - adapting your strategies based on the situation and RNG you encounter.";
          };

          const reset = () => {
            setCurrentQuestion(0);
            setAnswers([]);
            setShowResults(false);
          };

          if (showResults) {
            const position = calculatePosition();
            
            // Convert position to SVG coordinates (center at 250, 250 in a 500x500 viewbox)
            const svgX = 250 + (position.x * 2);
            const svgY = 250 + (position.y * 2);
            
            return (
              <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-green-900 p-8">
                <div className="max-w-4xl mx-auto bg-gray-800 rounded-lg shadow-2xl p-8">
                  <h1 className="text-4xl font-bold text-center mb-6 text-white">Your MCBE Speedrunning Compass</h1>
                  
                  <div className="bg-gray-900 rounded-lg p-6 mb-6">
                    <h2 className="text-2xl font-bold text-center mb-4 text-green-400">{getLabel(position.x, position.y)}</h2>
                    <p className="text-lg text-center text-gray-300 mb-6">{getDescription(position.x, position.y)}</p>
                    
                    <div className="bg-gray-800 rounded-lg p-4">
                      <svg viewBox="0 0 500 500" className="w-full h-auto">
                        {/* Grid lines */}
                        <line x1="50" y1="250" x2="450" y2="250" stroke="#444" strokeWidth="1" strokeDasharray="5,5" />
                        <line x1="250" y1="50" x2="250" y2="450" stroke="#444" strokeWidth="1" strokeDasharray="5,5" />
                        
                        {/* Axes */}
                        <line x1="50" y1="250" x2="450" y2="250" stroke="#888" strokeWidth="2" />
                        <line x1="250" y1="50" x2="250" y2="450" stroke="#888" strokeWidth="2" />
                        
                        {/* Tick marks on X axis */}
                        <line x1="50" y1="245" x2="50" y2="255" stroke="#888" strokeWidth="1" />
                        <line x1="150" y1="245" x2="150" y2="255" stroke="#888" strokeWidth="1" />
                        <line x1="350" y1="245" x2="350" y2="255" stroke="#888" strokeWidth="1" />
                        <line x1="450" y1="245" x2="450" y2="255" stroke="#888" strokeWidth="1" />
                        
                        {/* Tick marks on Y axis */}
                        <line x1="245" y1="50" x2="255" y2="50" stroke="#888" strokeWidth="1" />
                        <line x1="245" y1="150" x2="255" y2="150" stroke="#888" strokeWidth="1" />
                        <line x1="245" y1="350" x2="255" y2="350" stroke="#888" strokeWidth="1" />
                        <line x1="245" y1="450" x2="255" y2="450" stroke="#888" strokeWidth="1" />
                        
                        {/* Labels */}
                        <text x="250" y="475" textAnchor="middle" fill="#888" fontSize="12">Traditional ← → Modern</text>
                        <text x="25" y="255" textAnchor="middle" fill="#888" fontSize="12" transform="rotate(-90 25 255)">Progressive/Risky ← → Conservative/Safe</text>
                        
                        {/* Quadrant labels */}
                        <text x="80" y="80" fill="#666" fontSize="11">Traditional</text>
                        <text x="80" y="95" fill="#666" fontSize="11">Conservative</text>
                        
                        <text x="360" y="80" fill="#666" fontSize="11">Modern</text>
                        <text x="360" y="95" fill="#666" fontSize="11">Conservative</text>
                        
                        <text x="80" y="420" fill="#666" fontSize="11">Traditional</text>
                        <text x="80" y="435" fill="#666" fontSize="11">Progressive</text>
                        
                        <text x="360" y="420" fill="#666" fontSize="11">Modern</text>
                        <text x="360" y="435" fill="#666" fontSize="11">Progressive</text>
                        
                        {/* User position dot */}
                        <circle cx={svgX} cy={svgY} r="8" fill="#00ff00" stroke="#fff" strokeWidth="2" />
                      </svg>
                    </div>
                    
                    <div className="mt-6 grid grid-cols-2 gap-4 text-sm text-gray-300">
                      <div>
                        <strong className="text-white">Traditional ← → Modern:</strong> {position.x.toFixed(1)}
                        <div className="text-xs text-gray-400 mt-1">
                          {position.x < -30 ? "You favor classic, time-tested methods" : 
                           position.x > 30 ? "You embrace modern techniques and optimization" : 
                           "You balance old and new strategies"}
                        </div>
                      </div>
                      <div>
                        <strong className="text-white">Conservative ← → Progressive:</strong> {position.y.toFixed(1)}
                        <div className="text-xs text-gray-400 mt-1">
                          {position.y > 30 ? "You prioritize safety and consistency" : 
                           position.y < -30 ? "You embrace risk for potential rewards" : 
                           "You adapt your risk level to the situation"}
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <button
                    onClick={reset}
                    className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition duration-200"
                  >
                    Take Test Again
                  </button>
                </div>
              </div>
            );
          }

          return (
            <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-green-900 p-8">
              <div className="max-w-3xl mx-auto bg-gray-800 rounded-lg shadow-2xl p-8">
                <h1 className="text-4xl font-bold text-center mb-2 text-white">MCBE Speedrunning Compass</h1>
                <p className="text-center text-gray-400 mb-8">Discover your speedrunning philosophy!</p>
                
                <div className="mb-6">
                  <div className="flex justify-between items-center mb-2">
                    <span className="text-sm text-gray-400">Question {currentQuestion + 1} of {questions.length}</span>
                    <span className="text-sm text-gray-400">{Math.round((currentQuestion / questions.length) * 100)}% Complete</span>
                  </div>
                  <div className="w-full bg-gray-700 rounded-full h-2">
                    <div 
                      className="bg-green-500 h-2 rounded-full transition-all duration-300"
                      style={{ width: `${(currentQuestion / questions.length) * 100}%` }}
                    />
                  </div>
                </div>
                
                <div className="bg-gray-900 rounded-lg p-6 mb-6">
                  <h2 className="text-2xl font-semibold mb-6 text-white">{questions[currentQuestion].text}</h2>
                  
                  <div className="space-y-3">
                    {questions[currentQuestion].options.map((option, index) => (
                      <button
                        key={index}
                        onClick={() => handleAnswer(option)}
                        className="w-full text-left bg-gray-700 hover:bg-gray-600 text-white p-4 rounded-lg transition duration-200 transform hover:scale-105"
                      >
                        {option.text}
                      </button>
                    ))}
                  </div>
                </div>
                
                <div className="bg-gray-700 rounded-lg p-4">
                  <p className="text-sm text-gray-300">
                    <strong className="text-white">This measures:</strong> {questions[currentQuestion].effect}
                  </p>
                </div>
              </div>
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<MCBESpeedrunCompass />);
    </script>
</body>
</html>
